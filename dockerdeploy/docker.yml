---

- hosts: docker
  become: yes
  remote_user: root
  vars:
    docker_engine: docker.io
    docker_deamon: docker
    docker_images: dockernaveen02/vprofile-app:latest
  tasks:

    - name: install docker engine 
      apt:
        name: "{{docker_engine}}"
        state: present

    - name: start docker deamon process
      service:
        name: "{{docker_deamon}}"
        state: started
        enabled: yes
       
    - name: docker container run
      shell: docker run -itd --name vprofile-app -p 8080:8080 "{{docker_images}}"
